# Checkbox

Checkbox component is used in forms when a user needs to select multiple values
from several options.

Native HTML checkboxes are 100% accessible by default, so we used a
[very common CSS technique](https://dev.to/lkopacz/create-custom-keyboard-accessible-checkboxes-2036)
to style the checkboxes.

The Checkbox component composes `ControlBox`, a component we created to make it
easy to style sibling inputs. [Check it out](/controlbox)

## Installation

```js
import { Checkbox } from "@chakra-ui/core";
```

## Usage

Basic usage of checkbox.

```jsx
<Checkbox defaultChecked>Checkbox</Checkbox>
```

### Disabled Checkbox

```jsx
<List isInline>
  <Checkbox isDisabled>Checkbox</Checkbox>
  <Checkbox isDisabled defaultChecked>
    Checkbox
  </Checkbox>
</List>
```

### Checkbox with custom color

You can override the color scheme of the checkbox to any color key specified in
`theme.colors`.

```jsx
<List isInline>
  <Checkbox color="red" defaultChecked>
    Checkbox
  </Checkbox>
  <Checkbox color="green" defaultChecked>
    Checkbox
  </Checkbox>
</List>
```

### Checkbox sizes

The checkbox comes with 3 sizes

```jsx
<List isInline>
  <Checkbox size="sm" color="red">
    Checkbox
  </Checkbox>
  <Checkbox size="md" color="green" defaultChecked>
    Checkbox
  </Checkbox>
  <Checkbox size="lg" color="orange" defaultChecked>
    Checkbox
  </Checkbox>
</List>
```

### Invalid Checkbox

```jsx
<Checkbox isInvalid>Checkbox</Checkbox>
```

### Indeterminate

```jsx
function IndeterminateExample() {
  const parentValue = "PARENT";
  const child1Value = "CHILD1";
  const child2Value = "CHILD2";

  const getCheckedChildrenCount = checkedItems => {
    const childItems = Object.keys(checkedItems).filter(i => i !== parentValue);
    return childItems.reduce(
      (count, i) => (checkedItems[i] ? count + 1 : count),
      0,
    );
  };

  const getIsParentIndeterminate = checkedItems => {
    const checkedChildrenCount = getCheckedChildrenCount(checkedItems);
    return checkedChildrenCount > 0 && checkedChildrenCount < 2;
  };

  const [checkedItems, setCheckedItems] = React.useState({
    [parentValue]: false,
    [child1Value]: false,
    [child2Value]: false,
  });

  const onChange = event => {
    const itemValue = event.target.value;

    if (itemValue === parentValue) {
      const newCheckedState = !checkedItems[parentValue];
      setCheckedItems(
        Object.keys(checkedItems).reduce(
          (items, i) => ({ ...items, [i]: newCheckedState }),
          {},
        ),
      );
    } else {
      const newCheckedItems = {
        ...checkedItems,
        [itemValue]: !checkedItems[itemValue],
      };
      setCheckedItems({
        ...newCheckedItems,
        // If all children would be unchecked, also uncheck the parent
        [parentValue]: getCheckedChildrenCount(newCheckedItems) > 0,
      });
    }
  };

  return (
    <>
      <Checkbox
        isChecked={checkedItems[parentValue]}
        isIndeterminate={getIsParentIndeterminate(checkedItems)}
        onChange={onChange}
        value={parentValue}
        name="parent"
        children="Parent Checkbox"
      />
      <List pl={6} mt={1} spacing={1}>
        <Checkbox
          isChecked={checkedItems[child1Value]}
          onChange={onChange}
          children="Child Checkbox 1"
          value={child1Value}
          name="child-1"
        />
        <Checkbox
          isChecked={checkedItems[child2Value]}
          onChange={onChange}
          children="Child Checkbox 2"
          value={child2Value}
          name="child-2"
        />
      </List>
    </>
  );
}
```

## Props

| Name            | Type                 | Default | Description                                                                                                              |
| --------------- | -------------------- | ------- | ------------------------------------------------------------------------------------------------------------------------ |
| id              | `string`             |         | The id assigned to input field                                                                                           |
| name            | `string`             |         | The name of the input field in a checkbox (Useful for form submission)                                                   |
| value           | `string` or `number` |         | The value to be used in the checkbox input. This is the value that will be returned on form submission.                  |
| color           | `string`             |         | The color of the checkbox when it's checked. This should be one of the color keys in the theme (e.g."green", "red")      |
| defaultChecked  | `boolean`            |         | If `true`, the checkbox will be initially checked.                                                                       |
| isChecked       | `boolean`            |         | If `true`, the checkbox will be checked. You'll need to pass `onChange` to update it's value (since it's now controlled) |
| isIndeterminate | `boolean`            |         | If `true`, the checkbox will be indeterminate. This only affects the icon shown inside checkbox                          |
| isFullWidth     | `boolean`            |         | If `true`, the checkbox should take up the full width of the parent.                                                     |
| size            | `sm`, `md`, `lg`     | `md`    | The size (width and height) of the checkbox                                                                              |
| isDisabled      | `boolean`            |         | If `true`, the checkbox will be disabled                                                                                 |
| isInvalid       | `boolean`            |         | If `true`, the checkbox is marked as invalid. Changes style of unchecked state.                                          |
| children        | `React.ReactNode`    |         | Function called when the state of the checkbox changes.                                                                  |
| onChange        | `function`           |         | Function called when the state of the checkbox changes.                                                                  |
| onBlur          | `function`           |         | Function called when you blur out of the checkbox.                                                                       |
| onFocus         | `function`           |         | Function called when the checkbox receive focus.                                                                         |
| aria-label      | `string`             |         | An accessible label for the checkbox in event there's no visible label or `children` passed                              |
| aria-labelledby | `string`             |         | Id that points to the label for the checkbox in event no `children` was passed                                           |
