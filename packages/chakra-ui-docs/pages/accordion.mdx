# Accordion

Accordions display a list of high-level options that can expand/contract to
reveal more detailed information. By default, only one item may be expanded and
it can only be collapsed again by expanding another.

## Basic Usage

```jsx
<Accordion>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 1 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Expand multiple items at once

If you set `allowMultiple` to true then the accordion will permit multiple items
to be expanded at once.

```jsx
<Accordion allowMultiple>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 1 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Toggle each accordion item

If you set `allowToggle` to true, any expanded item may be collapsed again.

```jsx
<Accordion allowToggle>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 1 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>
</Accordion>
```

### Styling the expanded state

```jsx
<AccordionItem defaultIsOpen>
  <AccordionHeader _expanded={{ bg: "tomato", color: "white" }}>
    <Box flex="1" textAlign="left">
      Section 2 title
    </Box>
    <AccordionIcon />
  </AccordionHeader>
  <AccordionPanel>
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
    consequat.
  </AccordionPanel>
</AccordionItem>
```

### Accessing the internal state

```jsx
<Accordion allowMultiple>
  <AccordionItem>
    <AccordionHeader>
      <Box flex="1" textAlign="left">
        Section 2 title
      </Box>
      <AccordionIcon />
    </AccordionHeader>
    <AccordionPanel pb={4}>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
      veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
      commodo consequat.
    </AccordionPanel>
  </AccordionItem>

  <AccordionItem>
    {({ isExpanded }) => (
      <>
        <AccordionHeader>
          <Box flex="1" textAlign="left">
            Section 2 title
          </Box>
          <Icon size="12px" name={isExpanded ? "minus" : "add"} />
        </AccordionHeader>
        <AccordionPanel pb={4}>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
          minim veniam, quis nostrud exercitation ullamco laboris nisi ut
          aliquip ex ea commodo consequat.
        </AccordionPanel>
      </>
    )}
  </AccordionItem>
</Accordion>
```

## Accessibility

Pressing `space` or `enter` when focus is on the accordion panel header will
toggle (expand or collapse) the accordion.

## Props

### Accordion

| Name            | Type                              | Default | Description                                                                                               |
| --------------- | --------------------------------- | ------- | --------------------------------------------------------------------------------------------------------- |
| `allowMultiple` | `boolean`                         |         | If `true`, multiple accordion items can be expanded at once.                                              |
| `allowToggle`   | `boolean`                         | `false` | If `true`, any expanded accordion item can be collapsed again.                                            |
| `index`         | `NumberOrArrayOfNumber`           |         | The index(es) of the expanded accordion item                                                              |
| `defaultIndex`  | `NumberOrArrayOfNumber`           |         | The initial index(es) of the expanded accordion item                                                      |
| `onChange`      | `(NumberOrArrayOfNumber) => void` |         | The callback invoked when accordion items are expanded or collapsed.                                      |
| `children`      | `ReactNode`                       | `false` | The content of the accordion. The children must be the `AccordionHeader` and `AccordionPanel` components. |

### AccordionItem

| Name            | Type                                      | Default | Description                                                                                               |
| --------------- | ----------------------------------------- | ------- | --------------------------------------------------------------------------------------------------------- |
| `isOpen`        | `boolean`                                 |         | If `true`, expands the accordion in the controlled mode.                                                  |
| `defaultIsOpen` | `boolean`                                 | `false` | If `true`, expands the accordion by on initial mount.                                                     |
| `onChange`      | `(NumberOrArrayOfNumber) => void`         |         | The callback fired when the accordion is expanded/collapsed.                                              |
| `children`      | `ReactNode`, `(RenderProps) => ReactNode` | `false` | The content of the accordion. The children must be the `AccordionHeader` and `AccordionPanel` components. |

<br />

### AccordionHeader

AccordionHeader renders a `button` and composes `PseudoBox`, this means you can
style it by passing the pseudo style props `_expanded`, `_disabled`, `_hover`,
etc.

<br />

### AccordionPanel

AccordionPanel renders a `div` and composes `Collapse` to provide the height
animation.
