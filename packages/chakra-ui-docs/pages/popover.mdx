# Popover (In Progress)

Popover is a non-modal dialog that floats around a trigger. They're used to
display contextual information to the user.

The component should be paired with a clickable trigger element

Popover is built on top of the
<a href="https://popper.js.org/" target="__blank">Popper.js</a> library.

## Import

```js
import {
  Popover,
  PopoverTrigger,
  PopoverContent,
  PopoverHeader,
  PopoverBody,
  PopoverFooter,
  PopoverArrow,
} from "@chakra-ui/core";
```

## Basic Usage

```jsx
function BasicExample() {
  const closeRef = useRef();
  return (
    <Popover initialFocusRef={closeRef}>
      <PopoverTrigger>
        <Button float="right">Trigger</Button>
      </PopoverTrigger>
      <PopoverContent>
        <PopoverArrow />
        <PopoverHeader>Header</PopoverHeader>
        <PopoverCloseButton />
        <PopoverBody>
          <Button variantColor="blue" ref={closeRef}>
            Button
          </Button>
        </PopoverBody>
        <PopoverFooter>This is the footer</PopoverFooter>
      </PopoverContent>
    </Popover>
  );
}
```

## Using Portal

The popovers don't display in a portal by default. To use a portal, Import the
`Portal` component.

```jsx
// import { Portal } from "@chakra-ui/core"

function BasicExample() {
  const closeRef = useRef();
  return (
    <Popover initialFocusRef={closeRef}>
      <PopoverTrigger>
        <Button float="right">Trigger</Button>
      </PopoverTrigger>
      <Portal>
        <PopoverContent>
          <PopoverArrow />
          <PopoverHeader>Header</PopoverHeader>
          <PopoverCloseButton />
          <PopoverBody>
            <Button variantColor="blue" ref={closeRef}>
              Button
            </Button>
          </PopoverBody>
          <PopoverFooter>This is the footer</PopoverFooter>
        </PopoverContent>
      </Portal>
    </Popover>
  );
}
```

## Trapping Focus

The popovers don't display in a portal by default. To use a portal, Import the
`Portal` component.

```jsx
// import { Portal } from "@chakra-ui/core"
// import  FocusLock from "react-focus-lock"

<Popover closeOnBlur={false}>
  <PopoverTrigger>
    <Button float="right">Trigger</Button>
  </PopoverTrigger>
  <Portal>
    <PopoverContent>
      <FocusLock returnFocus persistentFocus={false}>
        <PopoverHeader>Header</PopoverHeader>
        <PopoverCloseButton />
        <PopoverBody>
          <Button variantColor="blue">Close</Button>
        </PopoverBody>
        <PopoverFooter>This is the footer</PopoverFooter>
      </FocusLock>
    </PopoverContent>
  </Portal>
</Popover>
```

## Placement

Using the `placement` prop you can adjust where your popover will be displayed.

```jsx
function Example() {
  return (
    <Flex>
      <Popover
        trigger={<Button>Top start</Button>}
        usePortal
        placement="top-start"
        showCloseButton
      >
        {({ onClose }) => (
          <>
            <PopoverHeader>Header</PopoverHeader>
            <PopoverBody>
              <Button color="blue" onClick={onClose}>
                Close
              </Button>
            </PopoverBody>
            <PopoverFooter>This is the footer</PopoverFooter>
          </>
        )}
      </Popover>
      <Box mx="4px" />

      <Popover
        trigger={<Button>Right end</Button>}
        usePortal
        placement="right-end"
        showCloseButton
      >
        {({ onClose }) => (
          <>
            <PopoverHeader>Header</PopoverHeader>
            <PopoverBody>
              <Button color="blue" onClick={onClose}>
                Close
              </Button>
            </PopoverBody>
            <PopoverFooter>This is the footer</PopoverFooter>
          </>
        )}
      </Popover>
    </Flex>
  );
}
```

## Props

| Name              | Type                                                                                                                                                                           | Default  | Description                                                                                                                                                                                                                |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `isOpen`          | `boolean`                                                                                                                                                                      | `false`  | If `true`, the popover is shown                                                                                                                                                                                            |
| `defaultOpen`     | `boolean`                                                                                                                                                                      | `false`  | If `true`, the popover is shown by default                                                                                                                                                                                 |
| `maxWidth`        | `string`, `number`                                                                                                                                                             |          | The maximum width of the popover                                                                                                                                                                                           |
| `trigger`         | `React.ReactNode`                                                                                                                                                              | `false`  | Element that triggers the display of the popover. Most times a `Button` or a `Link`                                                                                                                                        |
| `placement`       | `auto-start`, `auto`, `auto-end`, `top-start`, `top`, `top-end`, `right-start`, `right`, `right-end`, `bottom-end`, `bottom`, `bottom-start`, `left-end`, `left`, `left-start` | `bottom` | Determines how the popover is displayed relative to the trigger element as well as surrounding elements                                                                                                                    |
| `children`        | `React.ReactNode`                                                                                                                                                              |          | The children of the popover                                                                                                                                                                                                |
| `showArrow`       | `boolean`                                                                                                                                                                      | `false`  | If `true` display an arrow tip on the popover. This is displayed relative to the `placement` of the popover                                                                                                                |
| `showCloseButton` | `boolean`                                                                                                                                                                      | `false`  | If `true` display a close button to close the popover                                                                                                                                                                      |
| `initialFocusRef` | `React.Ref`                                                                                                                                                                    |          | The ref to the initial element to receive focus when the popover opens                                                                                                                                                     |
| `usePortal`       | `boolean`                                                                                                                                                                      | `true`   | If `true` the popover is displayed with a `Portal`. Rendering content inside a Portal allows the popover content to escape the physical bounds of its parent while still being positioned correctly relative to its target |
| `trapFocus`       | `boolean`                                                                                                                                                                      | `false`  | If `true` focus will be brought inside the popover                                                                                                                                                                         |
| `onOpenChange`    | `function`                                                                                                                                                                     |          | Function called when the value controlling the opening/closing of the popover changes                                                                                                                                      |
| `closeOnBlur`     | `boolean`                                                                                                                                                                      | `false`  | If `true`, close the popover when focus is taken away from the popover                                                                                                                                                     |
| `closeOnEsc`      | `boolean`                                                                                                                                                                      | `false`  | If `true`, close the popover when the `esc` key is pressed                                                                                                                                                                 |
